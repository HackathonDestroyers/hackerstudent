<div class="container">
  <div class="row">
    <div class="col-md-4 col-md-offset-4">
      <h2 class="login">Student Registration</h2>
      <%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
      <div id="card">
        <div class="front">
          <div class="card">
            <div class="card-content">
              <div class="form-group">
                <%= f.label :first_name %><br />
                <%= f.text_field :first_name, autofocus: true, class: "sign_field" %>
              </div>

              <div class="form-group">
                <%= f.label :last_name %><br />
                <%= f.text_field :last_name, class: "sign_field" %>
              </div>
              <div class="form-group">
                <%= f.label :email %> <br>
                <%= f.email_field :email, autofocus: true, class: "sign_field" %>
              </div>
              <div class="form-group">
                <%= f.label :password %>
                <% if @minimum_password_length %>
                <em>(<%= @minimum_password_length %> characters minimum)</em>
                <% end %><br />
                <%= f.password_field :password, autocomplete: "off", class: "sign_field" %>
              </div>
              <div class="form-group">
                <%= f.label :password_confirmation %> <br>
                <%= f.password_field :password_confirmation, autocomplete: "off", class: "sign_field" %>
              </div>
            </div>
            <div class="card-action">
              <a href="#" onclick="$('#card').flip(true);flipped=true;"class="btn btn-primary btn-block btn-lg" >Continuar</a>
            </div>
          </div>

        </div>
        <div class="back">
          <div class="card">
            <div class="card-content">
              <h4 style="text-align:center;">(Optional)</h4>
              <div class='card-wrapper'></div>
              <div class="row">
                <div class="col-xs-6">
                  <input placeholder="Card number" type="text" class="sign_field credit" id="number" name="number"/>
                </div>
                <div class="col-xs-6">
                  <input placeholder="Full name" type="text" class="sign_field credit" id="name" name="name"/>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-6">
                  <input placeholder="MM/YY" type="text" class="sign_field credit" id="expiry" name="expiry"/>
                </div>
                <div class="col-xs-6">
                  <input placeholder="CVC" type="text" class="sign_field credit" id="cvc" name="cvc"/>
                </div>
              </div>
            </div>
            <div class="card-action">
              <button type="submit" class="btn btn-primary btn-block btn-lg" value="Sign up">Register</button>
            </div>
          </div>

        </div>

      </div>
      <% end %>
      <div class="login">
        <%= render "students/shared/links" %>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
  var ready;
  var flipped = false;
  ready = function() {
    $('input').keypress(function(event){
      if (!flipped && (event.keyCode == 10 || event.keyCode == 13)){
          event.preventDefault();
          flipped = true;
          $('#card').flip(true);
      }
    });
    $("#card").flip({
      trigger: "manual"
    });
    var card = new Card({
        // a selector or DOM element for the form where users will
        // be entering their information
        form: '#new_student', // *required*
        // a selector or DOM element for the container
        // where you want the card to appear
        container: '.card-wrapper', // *required*

        formSelectors: {
            numberInput: 'input#number', // optional — default input[name="number"]
            expiryInput: 'input#expiry', // optional — default input[name="expiry"]
            cvcInput: 'input#cvc', // optional — default input[name="cvc"]
            nameInput: 'input#name' // optional - defaults input[name="name"]
        },

        width: 200, // optional — default 350px
        formatting: true, // optional - default true

        // Strings for translation - optional
        messages: {
            validDate: 'valid\ndate', // optional - default 'valid\nthru'
            monthYear: 'mm/yyyy', // optional - default 'month/year'
        },

        // Default placeholders for rendered fields - optional
        placeholders: {
            number: '•••• •••• •••• ••••',
            name: 'Full Name',
            expiry: '••/••',
            cvc: '•••'
        },

        // if true, will log helpful messages for setting up Card
        debug: false // optional - default false
    });
  };

  $(document).ready(ready);
  $(document).on('page:load', ready);
</script>
